<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kasir Rumah Makan</title>
  <script src="https://cdn.jsdelivr.net/npm/jsbarcode@3.11.6/dist/JsBarcode.all.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f8f8f8; color: #333; }
    h1 { text-align: center; margin-bottom: 30px; }

    /* Login */
    #login-box {
      max-width: 350px;
      margin: 100px auto;
      padding: 20px;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      text-align: center;
      position: relative;
      z-index: 2;
    }
    #login-box input {
      display: block;
      width: 90%;
      padding: 10px;
      margin: 10px auto;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    #login-box button {
      padding: 10px 20px;
      background: #27ae60;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #login-bg {
      background: url('https://dynamic-media-cdn.tripadvisor.com/media/photo-o/09/b5/be/0e/restoran-sederhana-masakan.jpg?w=900&h=500&s=1') no-repeat center center fixed;
      background-size: cover;
      position: fixed; top:0; left:0; width:100%; height:100%;
      z-index: 1;
    }

    .menu-section { margin-bottom: 40px; }
    .menu-section h2 { border-bottom: 3px solid #555; padding-bottom: 5px; }
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 20px;
    }
    .menu-item {
      background: #fff;
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      text-align: center;
    }
    .menu-item img { width: 100%; height: 120px; object-fit: cover; border-radius: 4px; margin-bottom: 8px; }
    .menu-item .name { font-weight: bold; margin-bottom: 6px; }
    .menu-item .price { color: #e67e22; margin-bottom: 6px;}
    .menu-item input { width: 50px; text-align: center; }

    .search-box {
      text-align: center;
      margin-bottom: 20px;
    }
    .search-box input {
      width: 60%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #aaa;
    }

    .payment-methods, #receipt {
      background: #fff; padding: 20px; border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1); margin-top: 20px;
    }
    #print-button, #logout-button {
      margin-top: 20px; padding: 12px 25px;
      font-size: 1em; background: #27ae60; color: white;
      border: none; border-radius: 8px; cursor: pointer;
      display: block; margin-left: auto; margin-right: auto;
    }
    #logout-button { background: #e74c3c; }
    #receipt { display: none; max-width: 400px; margin: 20px auto; }
    #receipt h2 { text-align: center; border-bottom: 2px solid #333; padding-bottom: 8px; }
    #receipt pre { font-family: monospace; }
    .qris { width: 200px; display: block; margin: 15px auto; }
    #barcode { display: block; margin: 15px auto; }
  </style>
</head>
<body>

  <!-- Background Login -->
  <div id="login-bg"></div>

  <!-- Login -->
  <div id="login-box">
    <h2>Login Kasir</h2>
    <input type="text" id="username" placeholder="Username">
    <input type="password" id="password" placeholder="Password">
    <button onclick="login()">Login</button>
    <p id="error" style="color:red;"></p>
  </div>

  <!-- Halaman Kasir -->
  <div id="kasir-app" style="display:none;">
    <h1>üçú Kasir Rumah Makan</h1>
    <p>üìç Alamat: Amsterdam</p>
    <p>‚òéÔ∏è Nomor telepon: 0899-0784-351</p>
    <button id="logout-button" onclick="logout()">Logout</button>

    <!-- Search -->
    <div class="search-box">
      <input type="text" id="search" placeholder="Cari menu makanan/minuman..." onkeyup="searchMenu()">
    </div>

    <!-- Makanan -->
    <div class="menu-section">
      <h2>üç≤ Menu Makanan</h2>
      <div class="menu-grid" id="food-menu"></div>
    </div>

    <!-- Minuman -->
    <div class="menu-section">
      <h2>ü•§ Menu Minuman</h2>
      <div class="menu-grid" id="drink-menu"></div>
    </div>

    <!-- Metode Pembayaran -->
    <div class="payment-methods">
      <h2>Metode Pembayaran</h2>
      <label><input type="radio" name="payment" value="Cash" checked> Cash</label>
      <label><input type="radio" name="payment" value="QRIS"> QRIS</label>
      <img src="https://ypp.co.id/site/uploads/qris/5f7c6da47a380-qr-code-dana.jpg" alt="QRIS" class="qris">
    </div>

    <br><br>
<label for="bayar">Jumlah Uang Dibayar (Rp):</label>
<input type="number" id="bayar" placeholder="Contoh: 50000">
<button onclick="bayar()">Bayar</button>


    <button id="print-button">Cetak Struk</button>

    <!-- Struk -->
    <div id="receipt">
      <h2>Struk Kasir</h2>
      <pre id="receipt-content"></pre>
      <svg id="barcode"></svg>
    </div>
  </div>

  <div id="struk-layar" style="display:none; max-width:400px; margin:30px auto; background:#fff; padding:20px; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.2);">
  <h2 style="text-align:center;">Struk Pembayaran</h2>
  <pre id="struk-layar-content" style="white-space:pre-wrap;"></pre>
</div>


  <script>
    /* LOGIN */
    function login(){
      const user = document.getElementById("username").value;
      const pass = document.getElementById("password").value;
      if(user==="Adit" && pass==="Aditya123"){
        document.getElementById("login-box").style.display="none";
        document.getElementById("login-bg").style.display="none";
        document.getElementById("kasir-app").style.display="block";
      } else {
        document.getElementById("error").textContent="‚ùå Username atau Password salah!";
      }
    }
    function logout(){
      document.getElementById("kasir-app").style.display="none";
      document.getElementById("login-box").style.display="block";
      document.getElementById("login-bg").style.display="block";
      document.getElementById("username").value="";
      document.getElementById("password").value="";
      document.getElementById("error").textContent="";
    }

    /* DATA MENU */
   const foods = [
       {name:"Nasi Goreng", price:15000, img:"https://d1vbn70lmn1nqe.cloudfront.net/prod/wp-content/uploads/2025/03/11082616/5-Resep-Nasi-Goreng-Sederhana-hingga-Spesial-Mudah-dan-Praktis.jpg"},
      {name:"Mie Ayam", price:12000, img:"https://fibercreme.com/wp-content/uploads/2025/05/perbedaan-bakmi-dan-mie-ayam_1.webp"},
      {name:"Soto Ayam", price:18000, img:"https://assets.tmecosys.com/image/upload/t_web_rdp_recipe_584x480_1_5x/img/recipe/ras/Assets/23f62312738135ab286e78812093c46b/Derivates/2e373c2ef0bf36c9e8475cbf93347db5a3496309.jpg"},
      {name:"Bakso", price:15000, img:"https://i.pinimg.com/originals/2e/0a/7e/2e0a7ef7a3363fc97842301b68a2106c.jpg"},
      {name:"Ayam Bakar", price:20000, img:"https://assets-cloudflare.segari-ops.id/recipes/ayam-bakar-kecap-lsbbzkrxiyFQN.jpg"},
      {name:"Ayam Goreng", price:18000, img:"https://assets.promediateknologi.id/crop/100x125:964x873/0x0/webp/photo/p3/93/2024/08/24/d9ebed977f66771d84c8eb65aa4bdf9f-1-1048603829.jpg"},
      {name:"Rendang", price:25000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQlGE3EVWpzvCnIhelI2hfNnpZEGAXuThsqqg&s"},
      {name:"Gado-Gado", price:15000, img:"https://static.promediateknologi.id/crop/0x0:0x0/0x0/webp/photo/p2/74/2025/01/27/Gado-Gado-2337756915.jpg"},
      {name:"Sate Ayam", price:20000, img:"https://d1vbn70lmn1nqe.cloudfront.net/prod/wp-content/uploads/2023/07/14053934/Mudah-Dibuat-di-Rumah-Ini-Resep-Sate-Ayam-Bumbu-Kacang-yang-Lezat-.jpg.webp"},
      {name:"Sate Kambing", price:30000, img:"https://akcdn.detik.net.id/visual/2018/08/13/c54b0c9b-6f64-40c1-8c6d-5ab3dab75b73_43.jpeg?w=720&q=90"},
      {name:"Nasi Uduk", price:12000, img:"https://asset.kompas.com/crops/cnjJ8a2_lEamvP1OkUClN1Oi0Dg=/100x67:900x600/1200x800/data/photo/2021/02/21/603203834f00f.jpg"},
      {name:"Nasi Padang", price:25000, img:"https://cdn.rri.co.id/berita/1/images/1689391542821-images_(22)/1689391542821-images_(22).jpeg"},
      {name:"Rawon", price:22000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSq17XRFk4SKS678FoVJ32bOoJhGEkxn58clg&s"},
      {name:"Gudeg", price:20000, img:"https://static.promediateknologi.id/crop/0x0:0x0/0x0/webp/photo/p2/74/2024/02/05/Asal-Usul-dan-Sejarah-Gudeg-Yogyakarta-1982560028.jpg"},
      {name:"Pempek", price:15000, img:"https://lingkar.news/wp-content/uploads/2023/03/Aneka-Resep-Pempek-Makanan-Tradisional-Khas-Palembang.jpg"},
      {name:"Nasi Campur", price:20000, img:"https://i0.wp.com/resepkoki.id/wp-content/uploads/2020/03/Resep-Nasi-Campur-Bali.jpg?fit=1474%2C1445&ssl=1"},
      {name:"Ketoprak", price:12000, img:"https://soyummyrecipes.com/wp-content/uploads/2020/06/Ketoprak-1-1.jpg"},
      {name:"Lontong Sayur", price:15000, img:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/Lontong_sayur_without_spoon.JPG/1200px-Lontong_sayur_without_spoon.JPG"},
      {name:"Martabak Telur", price:20000, img:"https://asset-2.tribunnews.com/tribunnews/foto/bank/images/martabak-telur-kulit-lumpia-yang-mudah-dibuat-di-rumah.jpg"},
      {name:"Bubur Ayam", price:12000, img:"https://www.masakapahariini.com/wp-content/uploads/2023/06/shutterstock_1927030937.jpg"},
      {name:"Nasi Kuning", price:15000, img:"https://assets.unileversolutions.com/recipes-v2/238137.jpg"},
      {name:"Tahu Tek", price:12000, img:"https://asset.kompas.com/crops/WoK_UDMIGlgQcW-tj64WqxfWGsg=/114x0:958x563/1200x800/data/photo/2021/02/22/603330779a2d2.jpg"},
      {name:"Ayam Penyet", price:18000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSAmC52w16M1ZwnCPpzbeJxdu8PNHTxROfSRw&s"},
      {name:"Ikan Bakar", price:25000, img:"https://asset.kompas.com/crops/TDPZbS20DNsdoD1ySXMOdkpe1yc=/0x0:1000x667/1200x800/data/photo/2020/12/17/5fdb3cd0c1525.jpg"},
      {name:"Sayur Asem", price:10000, img:"https://image.idntimes.com/post/20250117/sayur-asem-0633be2bc2768c88f0cd5a425f90804c.jpg"}
    ];

      const drinks = [
      {name:"Es Teh Manis", price:5000, img:"https://img.lovepik.com/photo/60226/3064.jpg_wh860.jpg"},
      {name:"Jus Alpukat", price:10000, img:"https://cdn.yummy.co.id/content-images/images/20200517/7SbwMalxlY9C7zERNuAMysfddx1VH0T0-31353839373133323738d41d8cd98f00b204e9800998ecf8427e.jpg?x-oss-process=image/resize,w_388,h_388,m_fixed,x-oss-process=image/format,webp"},
      {name:"Kopi Hitam", price:8000, img:"https://static.promediateknologi.id/crop/0x0:0x0/0x0/webp/photo/p2/221/2024/08/15/KOPI-3-257598409.jpg"},
      {name:"Es Jeruk", price:7000, img:"https://cdn1-production-images-kly.akamaized.net/2bUdwGUydtL50AOEMnCHNkD7FYQ=/469x625/smart/filters:quality(75):strip_icc():format(webp)/kly-media-production/medias/4777522/original/071308500_1710839241-iced-orange-cocktail-table__2_.jpg"},
      {name:"Teh Tarik", price:9000, img:"https://asset.kompas.com/crops/hsrnlGnJjSvQmAEyoV_dmwBbUi4=/120x80:1000x667/1200x800/data/photo/2023/10/18/652fcf5eb1b28.jpg"},
      {name:"Cappuccino", price:12000, img:"https://www.pinterpolitik.com/wp-content/uploads/2023/09/50de339f-7e20-4738-b9a4-a2ba49991add.webp"},
      {name:"Es Coklat", price:10000, img:"https://images.pexels.com/photos/11277040/pexels-photo-11277040.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500"},
      {name:"Jus Mangga", price:9000, img:"https://i.pinimg.com/originals/5c/c3/2f/5cc32f9786561cef38ff64db3353a516.jpg"},
      {name:"Jus Jambu", price:8000, img:"https://png.pngtree.com/png-clipart/20240901/original/pngtree-pink-guava-juice-png-image_15904723.png"},
      {name:"Jus Melon", price:8000, img:"https://res.cloudinary.com/dk0z4ums3/image/upload/v1698734199/attached_image/10-manfaat-jus-melon-untuk-kesehatan-tubuh.jpg"},
      {name:"Jus Apel", price:9000, img:"https://static.promediateknologi.id/crop/0x0:0x0/750x500/webp/photo/p2/250/2025/03/25/jus-apel-1-1918584269.jpg"},
      {name:"Jus Pisang", price:8000, img:"https://enesis.com/wp-content/uploads/manfaat-jus-pisang-992x661.webp"},
      {name:"Es Kopi Susu", price:12000, img:"https://asset.kompas.com/crops/C8Mo8F0gQE6PyXXec9oLxarbh1s=/34x24:475x318/1200x800/data/photo/2021/08/05/610b6ce6b3440.jpg"},
      {name:"Milkshake Coklat", price:15000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRISFFE6O5cwwkcTai3yLW58M00Rncav0eDEg&s"},
      {name:"Milkshake Stroberi", price:15000, img:"https://www.butteredsideupblog.com/wp-content/uploads/2023/06/How-to-Make-a-Strawberry-Milkshake-Without-Ice-Cream-17-scaled.jpg"},
      {name:"Susu Jahe", price:10000, img:"https://api.omela.com/storage/content-editor-images/kLnxvsDxt2BHnCdJXbYr5PfyahVhq8Xn51b6XC3R.jpg"},
      {name:"Wedang Ronde", price:12000, img:"https://assets-cloudflare.segari-ops.id/recipes/wedang-ronde-lsbcb33iUO9DQ.jpg"},
      {name:"Bandrek", price:10000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQklatJwpqHCKr6HKlZkhHSugj8DTP5f3_OVg&s"},
      {name:"Bajigur", price:10000, img:"https://lifestyle.haluan.co/wp-content/uploads/2024/11/bajigur.jpg"},
      {name:"Es Campur", price:15000, img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSPW_OdhpuR4ZJ5Qc3io-cpre0G7aQ9zSbf5w&s"},
      {name:"Es Buah", price:12000, img:"https://radarmukomuko.bacakoran.co/upload/50cabe3212d7608e3ef4867336b45833.jpg"},
      {name:"Air Mineral", price:4000, img:"https://img.id.my-best.com/product_images/986019f09b637b65f5b9d8cab6f0992b.jpeg?ixlib=rails-4.3.1&q=70&lossless=0&w=800&h=800&fit=clip&s=3b2e37f84a858f7d8368592742936cef"},
      {name:"Es Kelapa", price:10000, img:"https://www.tokomesin.com/wp-content/uploads/2015/03/es-kelapa-muda-tokomesin.jpg"},
      {name:"Es Teler", price:15000, img:"https://www.frisianflag.com/storage/app/media/uploaded-files/es-teler-gula-merah.jpg"},
      {name:"Jus Nanas", price:9000, img:"https://res.cloudinary.com/dk0z4ums3/image/upload/v1677418869/attached_image/17-manfaat-jus-nanas-bagi-kesehatan.jpg"}
    ];

    /* RENDER MENU */
    function renderMenu(list, containerId){
      const container = document.getElementById(containerId);
      list.forEach(item=>{
        const div = document.createElement("div");
        div.className="menu-item";
        div.dataset.name=item.name.toLowerCase();
        div.dataset.price=item.price;
        div.innerHTML=`
          <img src="${item.img}">
          <div class="name">${item.name}</div>
          <div class="price">Rp ${item.price.toLocaleString()}</div>
          <input type="number" min="0" value="0">
        `;
        container.appendChild(div);
      });
    }
    renderMenu(foods,"food-menu");
    renderMenu(drinks,"drink-menu");

    /* PENCARIAN MENU */
    function searchMenu(){
      let query = document.getElementById("search").value.toLowerCase();
      let items = document.querySelectorAll(".menu-item");
      items.forEach(item=>{
        if(item.dataset.name.includes(query)){
          item.style.display="block";
        } else {
          item.style.display="none";
        }
      });
    }

    /* CETAK STRUK + BARCODE */
    document.getElementById("print-button").addEventListener("click", function() {
      let items = document.querySelectorAll(".menu-item");
      let struk = "Kasir Rumah Makan\n====================\n";
      let total = 0;

      items.forEach(item => {
        let qty = parseInt(item.querySelector("input").value);
        if (qty > 0) {
          let name = item.querySelector(".name").textContent;
          let price = parseInt(item.dataset.price);
          let subtotal = price * qty;
          struk += `${name} x${qty} = Rp ${subtotal.toLocaleString()}\n`;
          total += subtotal;
        }
      });

      let tax = total * 0.10;
      let grandTotal = total + tax;

      struk += "--------------------\n";
      struk += "Kasir : ADIT\n";
      struk += "Subtotal: Rp " + total.toLocaleString() + "\n";
      struk += "Pajak 10%: Rp " + tax.toLocaleString() + "\n";
      struk += "Total: Rp " + grandTotal.toLocaleString() + "\n";
      let pay = document.querySelector('input[name="payment"]:checked').value;
      struk += "Bayar via: " + pay + "\n";
      struk += "====================";

      document.getElementById("receipt-content").innerText = struk;
      document.getElementById("receipt").style.display = "block";

      // Generate barcode (berdasarkan total belanja)
      JsBarcode("#barcode", grandTotal.toString(), {
        format: "CODE128",
        lineColor: "#000",
        width: 2,
        height: 60,
        displayValue: true
      });

      window.print();
    });

    function bayar() {
  let items = document.querySelectorAll(".menu-item");
  let bayarInput = parseInt(document.getElementById("bayar").value || "0");
  let struk = "üè† Rumah Makan Adit\n====================\n";
  let total = 0;

  items.forEach(item => {
    let qty = parseInt(item.querySelector("input").value);
    let name = item.querySelector(".name").textContent;
    let price = parseInt(item.dataset.price);

    if (qty > 0) {
      let subtotal = qty * price;
      struk += `${name} x${qty} = Rp ${subtotal.toLocaleString()}\n`;
      total += subtotal;
    }
  });

  if (total === 0) {
    alert("‚ùå Tidak ada item yang dipesan!");
    return;
  }

  let pajak = total * 0.10;
  let grandTotal = total + pajak;
  let kembali = bayarInput - grandTotal;

  if (bayarInput < grandTotal) {
    alert("‚ùå Uang tidak cukup untuk membayar total belanja!");
    return;
  }

  struk += "--------------------\n";
  struk += `Kasir : ADIT\n`;
  struk += `Subtotal: Rp ${total.toLocaleString()}\n`;
  struk += `Pajak (10%): Rp ${pajak.toLocaleString()}\n`;
  struk += `Total: Rp ${grandTotal.toLocaleString()}\n`;
  struk += `Dibayar: Rp ${bayarInput.toLocaleString()}\n`;
  struk += `Kembalian: Rp ${kembali.toLocaleString()}\n`;
  struk += "====================\n";
  struk += "üôè Terima kasih telah berkunjung!";

  document.getElementById("struk-layar-content").innerText = struk;
  document.getElementById("struk-layar").style.display = "block";
}

  </script>

</body>
</html>